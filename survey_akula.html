<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS Department Campus Survey</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet"  href="https://fonts.googleapis.com/css2?family=Roboto&family=Sono:wght@500&display=swap"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"/>
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <style>
      body {

            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;

            padding-top: 90px;

            font-family: "Lato", sans-serif;
        }

        .form-container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            width: 400px; /* Adjust the width as needed */
            margin: auto;
            margin-top: 20px;
        }

      body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif}
      .h1{font-size:"bold";}
      .w3-bar,h1,button {font-family: "Montserrat", sans-serif}
      .fa-anchor,.fa-coffee {font-size:200px}
      .w3-bar-item.w3-button.w3-padding-large:hover {
             background-color: #FFCC33 !important;
         }
      .w3-bar-item.w3-button.w3-hide-small.w3-padding-large:hover, .w3-center.w3-padding-large.w3-xlarge.w3-wide.w3-animate-opacity{
             background-color: #FFCC33 !important;
         }  .w3-bar, .w3-center.w3-padding-large.w3-xlarge.w3-wide.w3-animate-opacity:hover, .w3-container.w3-cente{
          background-color: #006633 !important;
        }
              label {
            display: block;
            margin-bottom: 10px;
        }
        input[type="text"],
        input[type="email"],
        input[type="url"],
        input[type="tel"],
        input[type="date"],
        textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
        }
        input[type="radio"],
        input[type="checkbox"] {
            margin-right: 5px;
        }
        .required::before {
            content: "* ";
            color: red;
        }
        input[type="submit"] {
        background-color: #007BFF; /* Button background color */
        color: #fff; /* Button text color */
        padding: 10px 20px; /* Padding around the button text */
        border: none; /* Remove the button border */
        border-radius: 5px; /* Rounded corners */
        cursor: pointer; /* Add a pointer cursor on hover */
        transition: background-color 0.3s ease; /* Smooth background color transition */
    }

    /* Change the button color on hover */
    input[type="submit"]:hover {
        background-color: #0056b3; /* New background color on hover */
    }

    </style>


    <script type="text/javascript">
        function validateForm() {
    			var username = document.getElementById("username").value;
    			var address = document.getElementById("address").value;
    			var email = document.getElementById("email").value;
    			var checkboxes = document.querySelectorAll('input[type=checkbox]:checked');
    			var radioButtons = document.querySelectorAll('input[type=radio]:checked');
    			var error = "";
    			// Validate name
    			if (!/^[a-zA-Z]+$/.test(username)) {
    				error += "The Name text box should contain only Alphabets. \n";
            document.getElementById("username").value = "";
    			}
    			// Validate address
    			if (!/^[a-zA-Z0-9\s]+$/.test(address)) {
    				error += "The Address text boxes should contain only appropriate numeric, alphabet or alphanumeric characters. \n";
            document.getElementById("address").value = "";
    			}

    			// Validate email
    			if (!/\S+@\S+\.\S+/.test(email)) {
    				error += "The Email address format should be valid.\n";
            document.getElementById("email").value = "";
    			}

    			// Validate checkboxes
    			if (checkboxes.length < 2) {
    				error += " Please make sure at least two checkboxes are checked.\n";

    			}

    			// Validate radio buttons
    			if (radioButtons.length === 0) {
    				error += " Please make sure a radio button option is selected.\n";
    			}

    			// Display error message if any
    			if (error !== "") {
    				alert(error);
    				return false;
    			}
    			// Form validated successfully
    			return true;
    		}

    	</script>



      <script type="text/javascript">


      // Check if there is already a cookie for this page
      var cookie_name;

      if(document.cookie)
      {
      // if there is a cookie then extract the cookie name from the cookie string
      var cookie_name_exists = unescape(document.cookie);
      var cookie_split = cookie_name_exists.split("=");

      // Set the extracted cookie name
      cookie_name = cookie_split[1];
      }
      else
      {
        if (!cookie_name || cookie_name.trim() === "") {
      var current_time = new Date();
      current_time.setTime(current_time.getTime() + (5 * 60 * 1000));
      var cookie_expires_time = " expires=" + current_time.toUTCString();

      cookie_name = window.prompt("Kindly Enter your name", "Dharshini");   // Prompt the user to enter the cookie name
      console.log(cookie_name);
      if(cookie_name === null || cookie_name.trim() === "") {
         alert("You must enter your name to proceed.");
         location.reload(true);
      }
      else{
      // Set the cookie with the user entered name and an expiration time
      document.cookie = "cookie_name=" + escape(cookie_name) + ";" + cookie_expires_time;}
      }

}
      var now=new Date();
      if(now.getHours()<12)
      document.write("<h1>Good Morning, ");
      else if(now.getHours()>16)
      document.write("<h1>Good Evening, ");
      else
      document.write("<h1>Good Afternoon, ");
      document.writeln(cookie_name +". welcome to SWE642 Survey</h1>");
      document.writeln("<a href = 'javascript:resetCookie()'>" + "Please click here if you are not "+cookie_name+".</a>");
      function resetCookie()
      {
      document.cookie="cookie_name=null; expires=Thu, 18 Aug 2013 00:00:01 UTC";
      location.reload(true);
      }

      </script>

</head>
<body class="w-full h-auto">
  <!-- Navbar -->

  <div class="w3-top">
    <div class="w3-bar w3-red w3-card w3-left-align w3-large">
      <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-green" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
      <a href=".\myblog_akula.html" class="w3-bar-item w3-button w3-padding-large ">Home</a>
      <a href=".\dept_CS_akula.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large  w3-hover" >CS department Page</a>
      <a href=".\survey_akula.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large  w3-hover" >Survey Page</a>


    </div>

    <!-- Navbar on small screens -->

  </div>

  <!-- Header -->


  <div class="w3-row-padding w3-padding-64
  w3-background-color-grey w3-container"; id="greeting">

  <div class="header" style="border: #006633; border-width: 5px; border-style: solid; box-shadow: 5px 10px 20px #FFCC33 inset;  padding-left: 150px; padding-right: 150px;">
    <img style=" padding-bottom: 20px; padding-top: 20px; width: 100%; height: 100%;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQoWT8z7MotyVsXgXLYC_Xg-JxrQ4QePgx5Dg&usqp=CAU">
  </div>

    <h1>CS Department Campus Survey</h1>





    <form action="#" method="post" autocomplete="on" class="p-5 rounded-1 shadow-lg">
        <label for="username" class="required">Username:</label>
        <input type="text" id="username" name="username" required placeholder="e.g., George Mason">

        <label for="address">Street Address:</label>
        <input type="text" id="address" name="address" placeholder="4400 University Dr">

        <label for="zipcode">Zipcode:</label>
<input type="text" id="zipcode" name="zipcode" 	onchange="GenerateCityAndState()">
<div id="zipcodeMessage" style="font-weight: bold;"></div>
<label for="city">City :</label>
<input type="text" id="city" name="city" placeholder="City" readonly>
<label for="state">State :</label>
<input type="text" id="state" name="state" placeholder="State" readonly>


<br>

        <label for="telephone" class="required">Telephone Number:</label>
        <input type="tel" id="telephone" name="telephone" required placeholder="e.g., (999)-999-9999" pattern="[0-9]{10}">

        <label for="email" class="required">Email:</label>
        <input type="email" id="email" name="email" required placeholder="e.g., george.mason@example.com">

        <label for="url" class="required">Personal Website URL:</label>
        <input type="url" id="url" name="url" placeholder="https://www.gmu.com">

        <label for="date" class="required">Date of Survey</label>
        <input type="date" id="date" name="date" required />
<br>



        <label class="required">What did you like most about the campus?</label>
        <label><input type="checkbox" name="likes" value="students" > Students</label>
        <label><input type="checkbox" name="likes" value="location" > Location</label>
        <label><input type="checkbox" name="likes" value="campus"> Campus</label>
        <label><input type="checkbox" name="likes" value="atmosphere" > Atmosphere</label>
        <label><input type="checkbox" name="likes" value="dorm_rooms"> Dorm Rooms</label>
        <label><input type="checkbox" name="likes" value="sports" > Sports</label>

<br>
        <label class="required">How did you hear about us?</label>
        <label><input type="radio" name="hear_about" value="friends" required> Friends</label>
        <label><input type="radio" name="hear_about" value="television" required> Television</label>
        <label><input type="radio" name="hear_about" value="internet" required> Internet</label>
        <label><input type="radio" name="hear_about" value="other" required> Other</label>


        <label for="comments">Additional Comments:</label>
        <textarea id="comments" name="comments" rows="4" placeholder="We welcome your insights and comments...."></textarea>

        <label for="graduationMonth">High School Graduation Month:</label>
        <input class="form-control"
          list="grad-yr"
          id="grad-choice"
          name="grad-choice"
          placeholder="Month"/>
        <datalist id="grad-yr">
          <option value="Janhuary"></option>
          <option value="February"></option>
          <option value="March"></option>
          <option value="April"></option>
          <option value="May"></option>
          <option value="June"></option>
          <option value="July"></option>
          <option value="August"></option>
          <option value="September"></option>
          <option value="October"></option>
          <option value="November"></option>
          <option value="December"></option>
        </datalist>

        <label for="graduationYear">High School Graduation Year:</label>
        <input type="text" id="graduationYear" name="graduationYear" list="years">
        <datalist id="years">
          <option value="2017">
          <option value="2018">
          <option value="2019">
          <option value="2020">
          <option value="2021">
          <option value="2022">
          <option value="2023">
        </datalist>

        <label for="recommend">Likelihood of Recommending:</label>
        <select id="recommend" name="recommend">
            <option value="very_likely">Very Likely</option>
            <option value="likely">Likely</option>
            <option value="unlikely">Unlikely</option>
        </select>



        <label for="data" class="required">Data</label>
         <input
           type="text"
           class="p-3 rounded border border-dark mt-2 mb-5"
           id="data"
           placeholder="Enter ten comma separated numbers ranging from 1 through 100"
           name="Data" onchange="AVGANDMAX()" required/>

   	   <label for="average">Average:</label>
         <output id="average" name="average"></output>
         <br>
         <label for="maximum">Maximum:</label>
         <output id="maximum" name="maximum"></output>
   	  <br>
   	  <br>
<br><br>
<input class="btn btn-lg btn-success" type="submit"  onClick="return validateForm()" value="Submit">

    <input class="btn btn-lg btn-success" type="reset" value="&nbsp;&nbsp;&nbsp;&nbsp;Reset">
<div id="zipmsg"></div>

    </form>
    </div>
    <script>
    function GenerateCityAndState() {
console.log("GenerateCityAndState function called."); // Add this line to check if the function is called

var zipCode = document.getElementById("zipcode").value;
var cityName = document.getElementById("city");
var stateName = document.getElementById("state");
var messageField = document.getElementById("zipcodeMessage");

// Make an Ajax call to fetch the JSON data
var xhr = new XMLHttpRequest();
xhr.open("GET", "./zipcodes.json", true);

xhr.onreadystatechange = function () {
  if (xhr.readyState === 4) {
    if (xhr.status === 200) {
      var jsonData = JSON.parse(xhr.responseText);
      var found = false;

      for (var i = 0; i < jsonData.zipcodes.length; i++) {
        if (jsonData.zipcodes[i].zip === zipCode) {
          cityName.value =  jsonData.zipcodes[i].city;
          stateName.value =  jsonData.zipcodes[i].state;
          found = true;
          break;
        }
      }

      if (!found) {
        cityName.value = ""; // Clear the City field
        stateName.value = ""; // Clear the State field
        messageField.textContent = "Invalid zip"; // Display error message
      } else {
        messageField.textContent = ""; // Clear the error message
      }
    } else {
      // Handle errors here, e.g., network errors or file not found
      console.error("Failed to fetch JSON data. Status code: " + xhr.status);
    }

    console.log("GenerateCityAndState function finished."); // Add this line to check when the function finishes
  }
};

xhr.send();
}

</script>
<script>
       function AVGANDMAX() {
         var dataInput = document.getElementById("data");
         var data = dataInput.value.split(",");
         if (data.length != 10) {
           alert("Please enter exactly 10 numbers separated by commas.");
           return;
         }
         var sum = 0;
         var max = 0;
         for (var i = 0; i < data.length; i++) {
           var num = parseInt(data[i]);
           if (isNaN(num) || num < 1 || num > 100) {
             alert("Please enter numbers between 1 and 100 only.");
             return;
           }
           sum += num;
           if (num > max) {
             max = num;
           }
         }
         var average = sum / data.length;
         document.getElementById("average").value = average;
         document.getElementById("maximum").value = max;
       }
     </script>
</body>
</html>
